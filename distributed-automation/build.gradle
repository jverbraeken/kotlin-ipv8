apply plugin: "application"
apply plugin: "kotlin"
apply plugin: "kotlinx-serialization"

mainClassName = 'nl.tudelft.ipv8.tracker.TrackerKt'

dependencies {
    implementation project(':ipv8-jvm')

    // Kotlin
    implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    implementation "org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_version"
    implementation "org.jetbrains.kotlin:kotlin-reflect:$kotlin_version"
    implementation "org.jetbrains.kotlinx:kotlinx-serialization-runtime:1.0-M1-1.4.0-rc"

    // Logging
    implementation 'io.github.microutils:kotlin-logging:1.7.7'

    // Guava
    implementation "com.google.guava:guava:30.1-jre"
}

tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {
    kotlinOptions.freeCompilerArgs += [
        "-Xuse-experimental=kotlin.Experimental,kotlin.ExperimentalUnsignedTypes"
    ]
}

run {
    systemProperties System.getProperties()
}
